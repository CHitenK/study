(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/views/makeimg/index.scss":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/views/makeimg/index.scss ***!
  \*******************************************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ../../../node_modules/css-loader/dist/runtime/api.js */"./node_modules/css-loader/dist/runtime/api.js"),a=n.n(r)()(!1);a.push([e.i,".route-box {\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row; }\n\n.route-box-l {\n  width: 68%;\n  height: 100%;\n  position: relative; }\n\n.route-box-r {\n  width: 30%;\n  height: 100%;\n  overflow: auto;\n  border: solid 1px #eaeaea;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.66); }\n\n.tool-box {\n  width: 100%;\n  height: 80px;\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  border: solid 1px #eaeaea;\n  align-items: center; }\n\n.mobile {\n  width: 320px;\n  height: 480px;\n  background: #fff;\n  /* transform: scale(0.5); */\n  position: relative; }\n\n.form-box {\n  width: 100%;\n  height: calc(100% - 200px);\n  border: solid 1px #eaeaea;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n  box-sizing: border-box;\n  padding: 15px; }\n\n.form-box-l {\n  width: 100%;\n  height: 100%;\n  overflow: auto; }\n\n.form-box-r {\n  width: 16%;\n  height: 100%;\n  overflow: auto;\n  border: solid 1px #eaeaea; }\n\n.form-list {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  border: solid 1px #eaeaea; }\n\n.form-list-ot {\n  height: 100px; }\n\n.form-label {\n  display: inline-block;\n  width: 120px;\n  margin-right: 10px; }\n\n.color-box {\n  display: inline-block;\n  height: 28px;\n  line-height: 28px;\n  width: 100px;\n  border: solid 1px #eaeaea;\n  cursor: pointer;\n  margin-right: 10px;\n  text-align: center; }\n\n.w-90 {\n  width: 120px; }\n\n.w-160 {\n  width: 160px; }\n\n.w-200 {\n  width: 200px; }\n\n.w-240 {\n  width: 240px; }\n\n.w-320 {\n  width: 320px; }\n\n.last-tool-box {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center; }\n\n.line-x {\n  display: inline-block;\n  height: 100%;\n  width: 1px;\n  position: absolute;\n  background: #0471e7;\n  top: 0;\n  z-index: 2020; }\n\n.line-Y {\n  display: inline-block;\n  width: 100%;\n  height: 1px;\n  position: absolute;\n  background: #0471e7;\n  left: 0;\n  z-index: 2020; }\n\n.nor-list {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 13px;\n  border: solid 1px #0471e7;\n  min-height: 100px;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center; }\n\n.nor-list-l {\n  width: 88%; }\n\n.img-j {\n  display: inline-block;\n  position: absolute;\n  background: #0471e7;\n  left: 0;\n  top: 0;\n  z-index: 1; }\n\n.img-j-12 {\n  height: 100px;\n  width: 100px;\n  border: solid 1px red; }\n\n.des {\n  display: inline-block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2; }\n\n#target {\n  border: #cccccc dashed 1px;\n  cursor: move; }\n",""]),t.default=a},"./src/store/makeimg.js":
/*!******************************!*\
  !*** ./src/store/makeimg.js ***!
  \******************************/
/*! exports provided: useStore, dispatch */function(e,t,n){"use strict";n.r(t),n.d(t,"useStore",function(){return l}),n.d(t,"dispatch",function(){return i});var r=n(/*! stamen */"./node_modules/stamen/dist/index.es.js");function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach(function(e){var t,n,r;t=a,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}var o=Object(r.createStore)({state:{bgData:{width:320,height:480,bgColor:"#FFFFFF",isTransmit:!1,isBgColor:1,bgImgSrc:"",transmitName:"bg_color",deflautColor:"#FFFFFF",name:"",describe:"",starTime:"2020-06-27 19:42:28"},isShowNet:!1,normalOpt:[{px:0,py:0,src:"",isTransmit:!1,transmitName:"",width:100,height:100}],textOpt:[{px:0,py:0,des:"",isTransmit:!1,transmitName:"",fontSize:14,fsColor:"#666666",showColorBox:!1}]},reducers:{updateBg:function(e,t){e.bgData=a(a({},e.bgData),t)},reseBg:function(e){e.bgData={}},swicthShowNet:function(e){e.isShowNet=!e.isShowNet},updateNormalOpt:function(e,t){var n=t.data,r=t.index,a=JSON.parse(JSON.stringify(e.normalOpt));a.splice(r,1,n),e.normalOpt=a},insetNormalOpt:function(e,t){e.normalOpt.push(t)},deleteNormalOpt:function(e,t){var n=e.normalOpt;n.splice(t,1),e.normalOpt=n},updateTextOpt:function(e,t){var n=t.data,r=t.index,a=JSON.parse(JSON.stringify(e.textOpt));a.splice(r,1,n),e.textOpt=a},insetTextOpt:function(e,t){e.textOpt.push(t)},deleteTextOpt:function(e,t){var n=e.textOpt;n.splice(t,1),e.textOpt=n},reset:function(){}}}),l=o.useStore,i=o.dispatch},"./src/views/makeimg/bgnex.js":
/*!************************************!*\
  !*** ./src/views/makeimg/bgnex.js ***!
  \************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! antd/es/radio/style/css */"./node_modules/antd/es/radio/style/css.js");var l=n(/*! antd/es/radio */"./node_modules/antd/es/radio/index.js"),i=(n(/*! antd/es/input-number/style/css */"./node_modules/antd/es/input-number/style/css.js"),n(/*! antd/es/input-number */"./node_modules/antd/es/input-number/index.js")),c=(n(/*! antd/es/upload/style/css */"./node_modules/antd/es/upload/style/css.js"),n(/*! antd/es/upload */"./node_modules/antd/es/upload/index.js")),u=(n(/*! antd/es/button/style/css */"./node_modules/antd/es/button/style/css.js"),n(/*! antd/es/button */"./node_modules/antd/es/button/index.js")),m=(n(/*! antd/es/switch/style/css */"./node_modules/antd/es/switch/style/css.js"),n(/*! antd/es/switch */"./node_modules/antd/es/switch/index.js")),d=(n(/*! antd/es/message/style/css */"./node_modules/antd/es/message/style/css.js"),n(/*! antd/es/message */"./node_modules/antd/es/message/index.js")),f=(n(/*! antd/es/input/style/css */"./node_modules/antd/es/input/style/css.js"),n(/*! antd/es/input */"./node_modules/antd/es/input/index.js")),p=n(/*! react */"./node_modules/react/index.js"),b=n.n(p),g=n(/*! react-color */"./node_modules/react-color/lib/index.js"),h=n(/*! ./../../store/makeimg */"./src/store/makeimg.js"),v=n(/*! @ant-design/icons */"./node_modules/@ant-design/icons/es/index.js");n(/*! moment */"./node_modules/moment/moment.js"),n(/*! ./index.scss */"./src/views/makeimg/index.scss");function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function y(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach(function(e){var t,n,r;t=a,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=f.default.TextArea;t.default=function(){function r(e,t){var n={};n[t]=e||"",Object(h.dispatch)("updateBg",n)}function t(e,t){var n=e.target.value||"";r(n,t)}var e=j(Object(p.useState)({background:"#fff",showColorBox:!1,fineName:""}),2),n=e[0],a=e[1],o=Object(h.useStore)(function(e){return e.bgData}),s={name:"file",accept:"image/*",action:"/api/file/upload",headers:{},onRemove:function(){a(function(e){return y(y({},e),{},{fineName:""})}),r("","bgImgSrc")},beforeUpload:function(e,t){return!(102400<t.size)||(d.default.error("图片大小不能超过100kb"),!1)},onChange:function(e){var t="";"done"===e.file.status?(t="http://chimke.cn/images/upload/"+e.file.response.filename,d.default.success("上传成功")):"error"===e.file.status&&d.default.error("上传失败，稍后重试"),a(function(e){return y(y({},e),{},{fineName:t})}),r(t,"bgImgSrc")}};return b.a.createElement("div",null,b.a.createElement("div",{className:"fs-16 clr-I"},"基础配置"),b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"名称:"),b.a.createElement(f.default,{value:o.name||"",onChange:function(e){return t(e,"name")}})),b.a.createElement("div",{className:"form-list form-list-ot clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"描述:"),b.a.createElement(x,{rows:3,value:o.describe||"",onChange:function(e){return t(e,"describe")}})),b.a.createElement("div",{className:"fs-16 clr-I mr-t-30 need"},"底框"),b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r"},"宽 :"),b.a.createElement(i.default,{value:o.width||"",onChange:function(e){return r(e,"width")},min:20}),"    px",b.a.createElement("span",{className:"form-label t-r"},"高 :"),b.a.createElement(i.default,{value:o.height||"",onChange:function(e){return r(e,"height")},min:20}),"    px"),b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"展现显示 :"),b.a.createElement(l.default.Group,{onChange:function(e){return t(e,"isBgColor")},value:o.isBgColor},b.a.createElement(l.default,{value:1},"底色"),b.a.createElement(l.default,{value:2},"底图"))),1===o.isBgColor?b.a.createElement("div",null,b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"底色值是否传参 :"),b.a.createElement(m.default,{checked:o.isTransmit,onChange:function(e){r(e,"isTransmit")}})),o.isTransmit?b.a.createElement("div",null,b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"参数名 :"),b.a.createElement("div",{className:"w-90"},b.a.createElement(f.default,{placeholder:"8个字符内",value:o.transmitName,onChange:function(e){return t(e,"transmitName")}}))),b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"参数默认值 :"),b.a.createElement("div",{className:"w-90"},b.a.createElement(f.default,{value:o.deflautColor,onChange:function(e){return t(e,"deflautColor")},placeholder:"FFFFFF"})))):b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"底色 :"),b.a.createElement("div",{className:"w-90"},b.a.createElement(f.default,{value:o.bgColor,placeholder:"#FFFFFF",onChange:function(e){return t(e,"bgColor")}})),b.a.createElement("span",{className:"color-box mr-l-10 clor-III",style:{background:o.bgColor},onClick:function(){a(function(e){return y(y({},e),{},{showColorBox:!n.showColorBox})})}},"选择"),n.showColorBox?b.a.createElement(g.SketchPicker,{color:o.bgColor,onChange:function(e){return t=e,a(function(e){return y(y({},e),{},{showColorBox:!1})}),void r(t.hex,"bgColor");var t}}):"")):b.a.createElement("div",null,b.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r need"},"底图地址 :"),b.a.createElement(f.default,{placeholder:"https://api.crossplus.topgoods.mobi/image//item/image/20200620/104539_876530.jpg",disabled:!!n.fineName,value:o.bgImgSrc,onChange:function(e){return t(e,"bgImgSrc")}})),b.a.createElement("div",{className:"form-list form-list-ot clr-II fs-14 mr-t-15"},b.a.createElement("span",{className:"form-label t-r"},"上传图片 :"),b.a.createElement(c.default,s,b.a.createElement(u.default,{disabled:!!n.fineName},b.a.createElement(v.UploadOutlined,null)," 选择文件")))))}},"./src/views/makeimg/index.js":
/*!************************************!*\
  !*** ./src/views/makeimg/index.js ***!
  \************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! antd/es/switch/style/css */"./node_modules/antd/es/switch/style/css.js");var a=n(/*! antd/es/switch */"./node_modules/antd/es/switch/index.js"),o=(n(/*! antd/es/button/style/css */"./node_modules/antd/es/button/style/css.js"),n(/*! antd/es/button */"./node_modules/antd/es/button/index.js")),m=(n(/*! antd/es/message/style/css */"./node_modules/antd/es/message/style/css.js"),n(/*! antd/es/message */"./node_modules/antd/es/message/index.js")),d=n(/*! react */"./node_modules/react/index.js"),f=n.n(d),p=n(/*! react-router-dom */"./node_modules/react-router-dom/esm/react-router-dom.js"),b=n(/*! ./bgnex */"./src/views/makeimg/bgnex.js"),g=n(/*! ./text */"./src/views/makeimg/text.js"),h=n(/*! ./normalImg */"./src/views/makeimg/normalImg.js"),v=n(/*! ./preview */"./src/views/makeimg/preview.js"),y=n(/*! ./../../components/badge/index */"./src/components/badge/index.js"),j=n(/*! ./../../store/makeimg */"./src/store/makeimg.js"),x=(n(/*! ./index.scss */"./src/views/makeimg/index.scss"),n(/*! ./../../api/index */"./src/api/index.js"));function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function O(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach(function(e){var t,n,r;t=a,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){function e(t){r(function(e){return O(O({},e),{},{active:t})})}var t=w(Object(d.useState)({active:"bgNex"}),2),n=t[0],r=t[1],s=Object(j.useStore)(function(e){return e.bgData}),l=Object(j.useStore)(function(e){return e.textOpt}),i=Object(j.useStore)(function(e){return e.normalOpt}),c=Object(p.useHistory)(),u=!0;return f.a.createElement("div",{className:"cont-box route-box"},f.a.createElement("div",{className:"route-box-l"},f.a.createElement(y.default,{name:"新建图片"}),f.a.createElement("div",{className:"tool-box"},f.a.createElement(o.default,{type:"bgNex"===n.active?"primary":"",className:"mr-l-15",onClick:function(){return e("bgNex")}},"底框"),f.a.createElement(o.default,{type:"normalImg"===n.active?"primary":"",className:"mr-l-15",onClick:function(){return e("normalImg")}},"常规图片"),f.a.createElement(o.default,{type:"text"===n.active?"primary":"",className:"mr-l-15",onClick:function(){return e("text")}},"文字")),f.a.createElement("div",{className:"form-box mr-t-30"},f.a.createElement("div",{className:"form-box-l"},function(){switch(n.active){case"bgNex":return f.a.createElement(b.default,null);case"text":return f.a.createElement(g.default,null);case"normalImg":return f.a.createElement(h.default,null);default:return f.a.createElement(b.default,null)}}())),f.a.createElement("div",{className:"mr-t-30 last-tool-box "},f.a.createElement("div",null,f.a.createElement(o.default,{className:"mr-l-15",type:"primary",onClick:function(){if(!s.name)return m.default.error("名称不能为空"),!1;if(!s.describe)return m.default.error("描述不能为空"),!1;if(!s.width||s.width<=0)return m.default.error("底框宽高不能为空，且不小于0"),!1;if(!s.height||s.height<=0)return m.default.error("底框宽高不能为空，且不小于0"),!1;if(1==s.isBgColor){if(s.isTransmit&&!s.bgColor)return m.default.error("底框底色不能为空"),!1;if(!s.transmitName||!s.deflautColor)return m.default.error("参数名和默认值不能为空"),!1}if(2==s.isBgColor&&!s.bgImgSrc)return m.default.error("底框底图地址不能为空"),!1;for(var e=!0,t=0;t<i.length;t++){var n=i[t];if(n.isTransmit&&(!n.transmitName||!n.defaultSrc)){m.default.error("图片参数名和默认值不能为空"),e=!1;break}}if(!e)return!1;for(var r=0;r<l.length;r++){var a=l[r];if(a.isTransmit&&(!a.transmitName||!a.defaultDes)){m.default.error("文案参数名和默认值不能为空"),e=!1;break}}if(!e)return!1;if(!u)return!1;u=!1;var o={bgData:s,textOpt:l,normalOpt:i,creatName:sessionStorage.getItem("userName"),isUse:!0};Object(x.save)(o).then(function(e){m.default.success("保存成功"),c.push("/content/list"),Object(j.dispatch)("reset")}).catch(function(e){m.default.error(e.msg)}).finally(function(){u=!0})}},"保存"),f.a.createElement(o.default,{className:"mr-l-15"},"重置")),f.a.createElement("div",null,f.a.createElement(a.default,{checkedChildren:"开启网格",unCheckedChildren:"关闭网格",onChange:function(){Object(j.dispatch)("swicthShowNet")}})))),f.a.createElement(v.default,null))}},"./src/views/makeimg/index.scss":
/*!**************************************!*\
  !*** ./src/views/makeimg/index.scss ***!
  \**************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n(/*! !../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss */"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/views/makeimg/index.scss");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o,s={insert:"head",singleton:!1},l=r(a,s);a.locals&&!e.hot.invalidate||(o=a.locals,e.hot.accept(
/*! !../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss */"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/views/makeimg/index.scss",function(){"string"==typeof(a=(a=n(/*! !../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss */"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/views/makeimg/index.scss")).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(o,a.locals)?(o=a.locals,l(a)):e.hot.invalidate()})),e.hot.dispose(function(){l()}),e.exports=a.locals||{}},"./src/views/makeimg/normalImg.js":
/*!****************************************!*\
  !*** ./src/views/makeimg/normalImg.js ***!
  \****************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! antd/es/upload/style/css */"./node_modules/antd/es/upload/style/css.js");var r=n(/*! antd/es/upload */"./node_modules/antd/es/upload/index.js"),c=(n(/*! antd/es/button/style/css */"./node_modules/antd/es/button/style/css.js"),n(/*! antd/es/button */"./node_modules/antd/es/button/index.js")),u=(n(/*! antd/es/input/style/css */"./node_modules/antd/es/input/style/css.js"),n(/*! antd/es/input */"./node_modules/antd/es/input/index.js")),m=(n(/*! antd/es/switch/style/css */"./node_modules/antd/es/switch/style/css.js"),n(/*! antd/es/switch */"./node_modules/antd/es/switch/index.js")),d=(n(/*! antd/es/input-number/style/css */"./node_modules/antd/es/input-number/style/css.js"),n(/*! antd/es/input-number */"./node_modules/antd/es/input-number/index.js")),f=(n(/*! antd/es/message/style/css */"./node_modules/antd/es/message/style/css.js"),n(/*! antd/es/message */"./node_modules/antd/es/message/index.js")),o=n(/*! react */"./node_modules/react/index.js"),p=n.n(o),b=n(/*! ./../../store/makeimg */"./src/store/makeimg.js"),g=n(/*! @ant-design/icons */"./node_modules/@ant-design/icons/es/index.js");n(/*! ./index.scss */"./src/views/makeimg/index.scss");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach(function(e){var t,n,r;t=a,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){function s(e,t,n){var r=JSON.parse(JSON.stringify(a[n]));r[t]=e,Object(b.dispatch)("updateNormalOpt",{index:n,data:r})}function t(e,t,n){var r=e.target.value||"";s(r,t,n)}var e=y(Object(o.useState)({fileNameArr:[]}),2),l=e[0],i=e[1],a=Object(b.useStore)(function(e){return e.normalOpt}),n={name:"file",accept:"image/*",action:"/api/file/upload",headers:{},beforeUpload:function(e,t){return!(102400<t.size)||(f.default.error("图片大小不能超过100kb"),!1)}};return p.a.createElement("div",null,p.a.createElement("div",{className:"fs-16 clr-I"},"常规图片"),a&&a.map(function(e,o){return p.a.createElement("div",{className:"nor-list mr-t-30",key:o},p.a.createElement("div",{className:"nor-list-l"},p.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-5"},p.a.createElement("span",{className:"form-label t-r need"},"宽 :"),p.a.createElement(d.default,{value:e.width,onChange:function(e){return s(e,"width",o)}}),"    px",p.a.createElement("span",{className:"form-label t-r need"},"高 :"),p.a.createElement(d.default,{value:e.height,onChange:function(e){return s(e,"height",o)}}),"    px"),p.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-5"},p.a.createElement("span",{className:"form-label t-r need"},"X :"),p.a.createElement(d.default,{value:e.px,onChange:function(e){return s(e,"px",o)}}),"    px",p.a.createElement("span",{className:"form-label t-r need"},"Y :"),p.a.createElement(d.default,{value:e.py,onChange:function(e){return s(e,"py",o)}}),"    px"),p.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},p.a.createElement("span",{className:"form-label t-r need"},"图片是否传参 :"),p.a.createElement(m.default,{checked:e.isTransmit,onChange:function(e){s(e,"isTransmit",o)}})),e.isTransmit?p.a.createElement("div",null,p.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},p.a.createElement("span",{className:"form-label t-r need"},"参数名 :"),p.a.createElement("div",{className:"w-90"},p.a.createElement(u.default,{placeholder:"8个字符内",value:e.transmitName,onChange:function(e){return t(e,"transmitName",o)}}))),p.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},p.a.createElement("span",{className:"form-label t-r need"},"默认值 :"),p.a.createElement(u.default,{placeholder:"https://api.crossplus.topgoods.mobi/image//item/image/20200620/104539_876530.jpg",value:e.defaultSrc,onChange:function(e){return t(e,"defaultSrc",o)}}))):p.a.createElement("div",null,p.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},p.a.createElement("span",{className:"form-label t-r need"},"图片地址 :"),p.a.createElement(u.default,{disabled:!!l.fileNameArr[o],placeholder:"https://api.crossplus.topgoods.mobi/image//item/image/20200620/104539_876530.jpg",value:e.src,onChange:function(e){return t(e,"src",o)}})),p.a.createElement("div",{className:"form-list form-list-ot clr-II fs-14 mr-t-15"},p.a.createElement("span",{className:"form-label t-r need"},"上传图片 :"),p.a.createElement(r.default,h({},n,{onChange:function(e){return t=e,n=o,r=l.fileNameArr,a="","done"===t.file.status?(a="http://chimke.cn/images/upload/"+t.file.response.filename,f.default.success("上传成功"),r[n]=a):"error"===t.file.status&&(f.default.error("上传失败，稍后重试"),a=r[n]=""),i(function(e){return v(v({},e),{},{fileNameArr:r})}),void s(a,"src",n);var t,n,r,a},onRemove:function(){return e=o,(t=l.fileNameArr)[e]="",i(function(e){return v(v({},e),{},{fileNameArr:t})}),void s("","src",e);var e,t}}),p.a.createElement(c.default,{disabled:!!l.fileNameArr[o]},p.a.createElement(g.UploadOutlined,null)," 选择文件"))))),1<a.length&&p.a.createElement(c.default,{danger:!0,onClick:function(){return e=o,void Object(b.dispatch)("deleteNormalOpt",e);var e}},"删除"))}),p.a.createElement("div",{className:"mr-t-30"},p.a.createElement(c.default,{onClick:function(){Object(b.dispatch)("insetNormalOpt",{px:0,py:0,src:"",isTransmit:!1,transmitName:"",width:100,height:100})}},"增加")))}},"./src/views/makeimg/preview.js":
/*!**************************************!*\
  !*** ./src/views/makeimg/preview.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var s=n(/*! react */"./node_modules/react/index.js"),l=n.n(s),m=n(/*! ./../../store/makeimg */"./src/store/makeimg.js");n(/*! ./index.scss */"./src/views/makeimg/index.scss");function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach(function(e){var t,n,r;t=a,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){function r(e){var t=e.target;if(!e.target)return!1;var n=document.getElementById("target");n&&n.setAttribute("id",""),t.setAttribute("id","target");var l,i,r,a=t.getAttribute("type"),o=t.getAttribute("index");if(!a)return!1;l=o,i=a,r=document.getElementById("target"),console.log(l,i),r.onmousedown=function(e){var t=e||window.event,o=t.clientX-r.offsetLeft,s=t.clientY-r.offsetTop;document.onmousemove=function(e){var t=e||window.event,n=t.clientX-o,r=t.clientY-s,a="updateNormalOpt"===i?JSON.parse(JSON.stringify(c[l])):JSON.parse(JSON.stringify(u[l]));a.px=n,a.py=r,console.log(a),Object(m.dispatch)(i,{index:l,data:a})},document.onmouseup=function(e){this.onmousemove=null,this.onmouseup=null}}}var e=d(Object(s.useState)({scale:"scale(1,1)"}),2),t=e[0],a=e[1],o=Object(m.useStore)(function(e){return e.bgData}),n=Object(m.useStore)(function(e){return e.isShowNet}),c=Object(m.useStore)(function(e){return e.normalOpt}),u=Object(m.useStore)(function(e){return e.textOpt});return Object(s.useEffect)(function(){}),l.a.createElement("div",{className:"route-box-r"},l.a.createElement("div",{id:"handel-view"}),l.a.createElement("div",{id:"view",className:"mobile",style:{width:o.width+"px",height:o.height+"px",transform:t.scale,backgroundColor:o.bgColor,backgroundImage:o.bgImgSrc?"url("+o.bgImgSrc+")":"none",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"}},c&&c.map(function(e,t){if(e.src)return l.a.createElement("img",{className:"img-j",alt:"",index:t,onDoubleClick:r,type:"updateNormalOpt",key:t,src:e.src,style:{left:e.px+"px",top:e.py+"px",width:e.width+"px",height:e.height+"px"}})}),u&&u.map(function(e,t){var n=e.isTransmit&&e.defaultDes?e.defaultDes||"":e.des||"";if(n)return l.a.createElement("span",{className:"des",onDoubleClick:r,type:"updateTextOpt",index:t,key:t,style:{left:e.px+"px",top:e.py+"px",color:e.fsColor,fontSize:e.fontSize+"px"}},n)}),n&&function(){if(!o.width)return[];for(var e=[],t=0;t<o.width;t++)t%10==0&&e.push(t+"px");return setTimeout(function(){var t,n;n=t=1,340<o.width&&(t=(340/o.width).toFixed(2)),540<o.height&&(n=(520/o.height).toFixed(2)),a(function(e){return i(i({},e),{},{scale:"scale(".concat(t,",").concat(n,")")})})},1500),e}().map(function(e,t){return l.a.createElement("span",{className:"line-x",key:t,style:{left:e}})}),n&&function(){if(!o.height)return[];for(var e=[],t=0;t<o.height;t++)t%10==0&&e.push(t+"px");return e}().map(function(e,t){return l.a.createElement("span",{className:"line-Y",key:t,style:{top:e}})})))}},"./src/views/makeimg/text.js":
/*!***********************************!*\
  !*** ./src/views/makeimg/text.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! antd/es/button/style/css */"./node_modules/antd/es/button/style/css.js");var s=n(/*! antd/es/button */"./node_modules/antd/es/button/index.js"),l=(n(/*! antd/es/switch/style/css */"./node_modules/antd/es/switch/style/css.js"),n(/*! antd/es/switch */"./node_modules/antd/es/switch/index.js")),i=(n(/*! antd/es/input/style/css */"./node_modules/antd/es/input/style/css.js"),n(/*! antd/es/input */"./node_modules/antd/es/input/index.js")),c=(n(/*! antd/es/input-number/style/css */"./node_modules/antd/es/input-number/style/css.js"),n(/*! antd/es/input-number */"./node_modules/antd/es/input-number/index.js")),r=n(/*! react */"./node_modules/react/index.js"),u=n.n(r),m=n(/*! ./../../store/makeimg */"./src/store/makeimg.js"),d=n(/*! react-color */"./node_modules/react-color/lib/index.js");n(/*! ./index.scss */"./src/views/makeimg/index.scss");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){function a(e,t,n){var r=JSON.parse(JSON.stringify(o[n]));r[t]=e,Object(m.dispatch)("updateTextOpt",{index:n,data:r})}function t(e,t,n){var r=e.target.value||"";a(r,t,n)}var e=f(Object(r.useState)({name:""}),2),o=(e[0],e[1],Object(m.useStore)(function(e){return e.textOpt}));return u.a.createElement("div",null,u.a.createElement("div",{className:"fs-16 clr-I"},"文字"),o&&o.map(function(e,r){return u.a.createElement("div",{className:"nor-list mr-t-30",key:r},u.a.createElement("div",{className:"nor-list-l"},u.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-5"},u.a.createElement("span",{className:"form-label t-r need"},"X :"),u.a.createElement(c.default,{value:e.px,onChange:function(e){return a(e,"px",r)}}),"    px",u.a.createElement("span",{className:"form-label t-r need"},"Y :"),u.a.createElement(c.default,{value:e.py,onChange:function(e){return a(e,"py",r)}}),"    px"),u.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},u.a.createElement("span",{className:"form-label t-r need"},"文字大小 :"),u.a.createElement("div",{className:"w-90"},u.a.createElement(i.default,{placeholder:"文字大小",value:e.fontSize,onChange:function(e){return t(e,"fontSize",r)}})),"    px"),u.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},u.a.createElement("span",{className:"form-label t-r need"},"文字颜色 :"),u.a.createElement("div",{className:"w-90"},u.a.createElement(i.default,{value:e.fsColor,placeholder:"#FFFFFF",onChange:function(e){return t(e,"fsColor",r)}})),u.a.createElement("span",{className:"color-box mr-l-10 clor-III",style:{background:e.fsColor},onClick:function(){return t=!o[e=r].showColorBox,void a(t,"showColorBox",e);var e,t}},"选择"),e.showColorBox?u.a.createElement(d.SketchPicker,{color:e.fsColor,onChange:function(e){return t="fsColor",n=r,a(e.hex,t,n),setTimeout(function(){a(!1,"showColorBox",n)},1500),void console.log(12);var t,n},onChangeComplete:function(e,t){return closePicker(e,t,r)}}):""),u.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},u.a.createElement("span",{className:"form-label t-r need"},"是否传参 :"),u.a.createElement(l.default,{checked:e.isTransmit,onChange:function(e){a(e,"isTransmit",r)}})),e.isTransmit?u.a.createElement("div",null,u.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},u.a.createElement("span",{className:"form-label t-r need"},"参数名 :"),u.a.createElement("div",{className:"w-90"},u.a.createElement(i.default,{placeholder:"8个字符内",value:e.transmitName,onChange:function(e){return t(e,"transmitName",r)}}))),u.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},u.a.createElement("span",{className:"form-label t-r need"},"默认文案 :"),u.a.createElement(i.default,{placeholder:"输入文字",value:e.defaultDes,onChange:function(e){return t(e,"defaultDes",r)}}))):u.a.createElement("div",null,u.a.createElement("div",{className:"form-list clr-II fs-14 mr-t-15"},u.a.createElement("span",{className:"form-label t-r need"},"文案 :"),u.a.createElement(i.default,{placeholder:"输入文字 ",value:e.des,onChange:function(e){return t(e,"des",r)}})))),1<o.length&&u.a.createElement(s.default,{danger:!0,onClick:function(){return e=r,void Object(m.dispatch)("deleteTextOpt",e);var e}},"删除"))}),u.a.createElement("div",{className:"mr-t-30"},u.a.createElement(s.default,{onClick:function(){Object(m.dispatch)("insetTextOpt",{px:0,py:0,des:"",isTransmit:!1,transmitName:"",fontSize:14,fsColor:"#666666",showColorBox:!1})}},"增加")))}}}]);